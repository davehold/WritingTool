function starteDieMaschine(){wordLimit=parseInt(document.getElementById("maxwordcountInput").value,10),document.getElementById("maxwords").innerText=wordLimit,textarea.setAttribute("contenteditable",!0),textarea.innerText="",textarea.focus(),toggleOptions(),toggleHeader(),toggleResults(),1==document.getElementById("checkboxTimer").checked?(timerMode=!0,timer=60*parseInt(document.getElementById("timerInput").value,10)):timerMode=!1,1==document.getElementById("checkboxWordlimit").checked?(document.getElementById("maxwords").style.display="inline",wordLimitActive=!0):(document.getElementById("maxwords").style.display="none",wordLimitActive=!1),backspaceBlockActive=1==document.getElementById("checkboxBackspace").checked,1==document.getElementById("checkboxOverlay").checked&&toggleOverlay(),timerMode&&(timerUpdateInterval=setInterval(startTimer,1e3))}function resetEverything(){backspaceBlockActive=wordLimitActive=blurMode=outOfTime=timerMode=!(timer=30),currentWordOnlyActive=inputLock=!(wordLimit=10)}function toggleGridLayout(){"gridlayout"==document.getElementById("body").className?(document.getElementById("body").classList.remove("gridlayout"),document.getElementById("body").classList.add("gridlayout-fullscreen")):(document.getElementById("body").classList.remove("gridlayout"),document.getElementById("body").classList.remove("gridlayout-fullscreen"),document.getElementById("body").classList.add("gridlayout"))}function toggleOptions(){"none"==options.style.display?options.style.display="block":options.style.display="none"}function toggleHeader(){"none"==header.style.display?header.style.display="block":header.style.display="none"}function toggleResults(){"none"==results.style.display?results.style.display="block":results.style.display="none"}function handleKeydown(e){return backspaceBlockActive&&8===(e=e||window.event).keyCode?("function"==typeof e.preventDefault&&e.preventDefault(),!1):wordLimitActive&&countWords()>=wordLimit&&32===e.keyCode?(timerMode?timer=0:(setInputLock(!0),toggleBlur(),toggleResults(),toggleHeader(),textarea.style.display="none"),"function"==typeof e.preventDefault&&e.preventDefault(),!1):void 0}function updateText(e){var t=textarea.innerText;document.getElementById("typedtext").innerText=t,document.getElementsByClassName("wordcount")[0].innerText=countWords(),document.getElementsByClassName("wordcount")[1].innerText=countWords(),console.log("text updated")}function setInputLock(e){e?textarea.removeAttribute("contenteditable"):(timerMode=!1,textarea.setAttribute("contenteditable",!0))}function startTimer(){outOfTime||(new Date,minutes=parseInt(timer/60,10),seconds=parseInt(timer%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,timer--<=0&&(outOfTime=!(blurMode=!1),seconds=minutes="00",textarea.style.display="none",setInputLock(!0),toggleBlur(),toggleResults(),toggleHeader(),console.log("timer ran out of tape"))),document.getElementById("timer").innerText=minutes+":"+seconds}function toggleBlur(){1==document.getElementById("checkboxBlind").checked?(blurMode=!0,textarea.setAttribute("class","active")):(blurMode=!1,textarea.setAttribute("class","")),1==outOfTime&&(blurMode=!1,textarea.setAttribute("class",""))}function toggleTimer(){timerMode&&clearInterval(timerUpdateInterval)}function getCurrentWord(){return textarea.innerText.split(" ").pop()}function countWords(){return textarea.innerText.split(" ").length}function toggleWordLimit(){}function toggleBackspaceBlock(){backspaceBlockActive=!backspaceBlockActive}function toggleOverlay(){1==document.getElementById("checkboxOverlay").checked?(document.getElementById("overlay").style.display="block",showOverlay=!0):(document.getElementById("overlay").style.display="none",showOverlay=!1)}function getCurrentFontSize(){return document.getElementById("textarea").style.fontSize}function increaseFontSize(){}function decreaseFontSize(){}var timerUpdateInterval,duration,minutes,seconds,textarea=document.getElementById("textarea"),options=document.getElementById("options"),header=document.getElementById("header"),results=document.getElementById("results"),timer=30,timerMode=!1,outOfTime=!1,blurMode=!1,wordLimitActive=!1,backspaceBlockActive=!1,wordLimit=10,inputLock=!1,currentWordOnlyActive=!1,showOverlay=!1;textarea.setAttribute("contenteditable",!1),textarea.addEventListener("input",updateText),textarea.addEventListener("keydown",handleKeydown),1==document.getElementById("checkboxBlind").checked&&1==blurMode&&toggleBlur();